<div class="sidenav">
  <h2>Admin Panel of </h2>
  <p class="username">{{user?.id}}</p>
  <ul>
  <li> <a (click)="bookLists()">Book Lists</a></li>
  <li> <a (click)="usersLists()">Users Lists</a></li>
  <li> <a (click)="adminPanel()">Admin Panel</a></li> 
  <li> <a (click)="ordersLists()">Orders Lists</a></li> 
  <li> <a (click)="employeeLists()">Employee Lists</a></li>
  </ul>
</div>











<div>
    <h1>Deliveries Lists</h1>
     

    <mat-form-field appearance="outline">
     <mat-label>Search Deliveries</mat-label>
     <input matInput (keyup)="applyFilter($event)" placeholder="Search Deliveries">
    </mat-form-field>

    <mat-paginator [pageSize]="10" [pageSizeOptions]="[10,20,50]" showFirstLastButtons></mat-paginator>

    <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
     
     <ng-container  matColumnDef="userId">
        <mat-header-cell *matHeaderCellDef>Username</mat-header-cell>
        <mat-cell *matCellDef="let delivery">
         <ng-container>
            <ng-container *ngIf="editRowID === delivery.userId; else viewUserId">
                <input [(ngModel)]="editedDelivery.userId" />
              </ng-container>
              <ng-template #viewUserId>{{ delivery.userId }}</ng-template>
         </ng-container>
        </mat-cell>
</ng-container>

<ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
     <ng-container>
        <ng-container *ngIf="editRowID === delivery.userId; else viewName">
            <input [(ngModel)]="editedDelivery.name" />
          </ng-container>
          <ng-template #viewName>{{ delivery.name }}</ng-template>
     </ng-container>
    </mat-cell>
</ng-container>

<ng-container matColumnDef="email">
    <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
     <ng-container>
        <ng-container *ngIf="editRowID === delivery.userId; else viewemail">
            <input [(ngModel)]="editedDelivery.email" />
          </ng-container>
          <ng-template #viewemail>{{ delivery.email }}</ng-template>
     </ng-container>
    </mat-cell>
</ng-container> 

 
<ng-container matColumnDef="phoneNumber">
    <mat-header-cell *matHeaderCellDef>Phone Number</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
     <ng-container>
        <ng-container *ngIf="editRowID === delivery.userId; else viewphoneNumber">
            <input [(ngModel)]="editedDelivery.phoneNumber" />
          </ng-container>
          <ng-template #viewphoneNumber>{{ delivery.phoneNumber }}</ng-template>
     </ng-container>
    </mat-cell>
</ng-container>


<ng-container matColumnDef="address">
    <mat-header-cell *matHeaderCellDef>Address</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
     <ng-container>
        <ng-container *ngIf="editRowID === delivery.userId; else viewaddress">
            <input [(ngModel)]="editedDelivery.address" />
          </ng-container>
          <ng-template #viewaddress>{{ delivery.address }}</ng-template>
     </ng-container>
    </mat-cell>
</ng-container>



<ng-container matColumnDef="zipcode">
    <mat-header-cell *matHeaderCellDef>Zipcode</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
     <ng-container>
        <ng-container *ngIf="editRowID === delivery.userId; else viewzipcode">
            <input [(ngModel)]="editedDelivery.zipcode" />
          </ng-container>
          <ng-template #viewzipcode>{{ delivery.zipcode }}</ng-template>
     </ng-container>
    </mat-cell>
</ng-container>

<ng-container matColumnDef="deliveryDay">
    <mat-header-cell *matHeaderCellDef>Delivery Day</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
     <ng-container>
        <ng-container *ngIf="editRowID === delivery.userId; else viewdeliveryDay">
            <input [(ngModel)]="editedDelivery.deliveryDay" />
          </ng-container>
          <ng-template #viewdeliveryDay>{{ delivery.deliveryDay }}</ng-template>
     </ng-container>
    </mat-cell>
</ng-container>
 
<ng-container matColumnDef="deliveryLocation">
    <mat-header-cell *matHeaderCellDef>Delivery Location</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
     <ng-container>
        <ng-container *ngIf="editRowID === delivery.userId; else viewdeliveryLocation">
            <input [(ngModel)]="editedDelivery.deliveryLocation" />
          </ng-container>
          <ng-template #viewdeliveryLocation>{{ delivery.deliveryLocation }}</ng-template>
     </ng-container>
    </mat-cell>
</ng-container>

<ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
    <mat-cell *matCellDef="let delivery">
      <ng-container *ngIf="editRowID === delivery.userId; else defaultButtons">
        <button mat-icon-button (click)="saveEdit(delivery.userId)">
          <mat-icon>save</mat-icon>
        </button>
        <button mat-icon-button (click)="cancelEdit()">
          <mat-icon>cancel</mat-icon>
        </button>
      </ng-container>
      <ng-template #defaultButtons>
        <button mat-button color="accent" (click)="startEdit(delivery)">Edit</button>
        <button mat-button color="warn" (click)="deleteDelivery(delivery._id)">Delete</button>
      </ng-template>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayColumn"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayColumn;"></mat-row>



</mat-table>
    
</div>
